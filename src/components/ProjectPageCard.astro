---
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'

interface Props {
    title: string
    description: string
    href: string
    iconStackName: string[]
    projectUrl?: string
}

const { title, description, href, iconStackName, projectUrl } = Astro.props
---

<div class="justify-self-center" data-post>
    <a href={href}>
        <div class="relative flex flex-col border border-[#242424] bg-[#1C1C1C] rounded-sm max-w-[430px] w-full h-full">
            <div class="relative">
                <Image
                    src="/assets/projects/project_placeholder.svg"
                    alt="Project placeholder"
                    width={430}
                    height={234}
                    class="rounded-t-sm opacity-60"
                />
                <div class="absolute inset-0 bg-gradient-to-b from-[#1C1C1C] via-transparent to-[#1C1C1C] opacity-100 pointer-events-none rounded-t-sm" 
                     style="
                        background: linear-gradient(
                            to bottom,
                            rgba(28, 28, 28, 0) 60%, 
                            rgba(28, 28, 28, 0.5) 90%, 
                            rgba(28, 28, 28, 1) 98%
                        );
                     ">
                </div>
            </div>
            <div class="px-4 pt-7 pb-4 flex flex-col justify-start h-full">
                <p class="text-xl font-semibold text-[#F6F6F6]">{title}</p>
                <p class="text-sm font-normal text-[#858585] mt-2 mb-7">{description}</p>
                <div class="flex items-center space-x-2 mb-6">
                    <p class="text-sm font-normal text-[#858585]">Stack:</p>
                    {iconStackName.map((iconName) => (
                        <Icon 
                            name={iconName} 
                            class="text-[#F6F6F6] mr-[2px]" 
                            width={18} 
                            height={18} 
                        />
                    ))}
                </div>
                <div class="flex items-center justify-between mt-auto">
                    <button
                        type="button"
                        class="bg-gradient-to-b from-[#464646] to-[#2C2C2C] bg-clip-border p-[2px] rounded-[10px]"
                    >
                        <div class="bg-[#262626] px-4 py-2 border-2 border-transparent flex items-center justify-center rounded-lg">
                            <p class="text-[#F6F6F6] font-medium text-[10px]">About The Project</p>
                        </div>
                    </button>

                    <a href={projectUrl} class="flex items-center space-x-1 cursor-pointer">
                        <Icon 
                            name="mingcute:link-fill" 
                            class="text-[#F6F6F6]" 
                            width={12} 
                            height={12} 
                        />
                        <p class="text-[10px] font-normal text-[#858585]">View Project</p>
                    </a>
                </div>
            </div>
        </div>
    </a>
</div>
